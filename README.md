# REST API для отслеживания дневной нормы калорий

Этот проект реализует REST API сервис для отслеживания дневной нормы калорий пользователя и учета съеденных блюд, используя Spring Boot, Spring Data JPA и PostgreSQL.  Проект разработан в соответствии с предоставленным техническим заданием.

## Функциональность:

* **Пользователи:**  Добавление пользователей с параметрами: ID, имя, email, возраст, вес, рост, пол, цель (Похудение, Поддержание, Набор массы). Дневная норма калорий рассчитывается автоматически на основе формулы Харриса-Бенедикта.
* **Блюда:** Добавление блюд с параметрами: ID, название, количество калорий на порцию, белки, жиры, углеводы.
* **Прием пищи:** Добавление приемов пищи с указанием списка блюд.
* **Отчеты:**
    * Отчет за день с суммой потребленных калорий и списком приемов пищи.
    * Проверка, уложился ли пользователь в дневную норму калорий.
    * История питания по дням.


## Технические характеристики:

* **Фреймворк:** Spring Boot
* **ORM:** Spring Data JPA
* **База данных:** PostgreSQL
* **Валидация:** Встроенная валидация Spring, проверка входных данных.
* **Обработка ошибок:**  Обработка исключений и возвращение соответствующих кодов ошибок.
* **Unit-тесты:** Написаны юнит-тесты для основной логики.
* **Postman-тесты:** Написаны постман-тесты для всех эндпоинтов.


## Инструкция по запуску:

**1. Установка Docker:**

Убедитесь, что у вас установлен Docker.

**2. Клонирование репозитория:**

  bash  
  git clone   


**3. Запуск PostgreSQL:**

- Убедитесь, что у вас создан файл .env с переменными окружения.
- Пример содержимого файла .env:

dotenv  
  POSTGRES_USER=user  
  POSTGRES_PASSWORD=systems  
  POSTGRES_DB=1221systems  

- Запустите контейнер с PostgreSQL:

  bash
  docker-compose up -d db


**4. Запуск приложения:**

bash
docker-compose up -d


Это запустит приложение в контейнере Docker.  Подождите несколько секунд, пока приложение запустится полностью.

**5. Доступ к API:**

API будет доступно по адресу: http://localhost:8080

**6. Тестирование:**

Используйте предоставленную коллекцию Postman [postman/1221SystemsApp API Tests.postman_collection.json] для тестирования API.


## Структура проекта:

Этот проект использует стандартную структуру Spring Boot проекта.  Основные пакеты включают:

•   `controller`:  Пакет с контроллерами REST API, обрабатывающими входящие запросы и возвращающими ответы.  Каждый контроллер отвечает за определенный набор сущностей (например, `UserController`, `DishController`).

•   `dto`: Пакет с Data Transfer Objects (DTO).  DTO используются для передачи данных между контроллерами, сервисами и слоем представления (например, `CreateUserRequestDto`, `ComplianceReportDto`).  Это помогает отделить слои приложения и улучшить читаемость кода.

•   `enums`: Пакет с перечислениями (enums), определяющими константы, такие как цели пользователя (`Goal: WEIGHT_LOSS, MAINTENANCE, WEIGHT_GAIN`).  Использование enums улучшает читаемость и поддерживаемость кода.

•   `exception`: Пакет с пользовательскими исключениями, обрабатываемыми в приложении. Также содержит модель `ErrorResponse` и класс `ErrorHandler`, который является перехватчиком исключений.

•   `model`:  Пакет с JPA сущностями (моделями данных), представляющими таблицы в базе данных.  Это  `User`, `Dish`, `Meal`.  Здесь определяются поля, аннотации JPA (`@Entity`, `@Id`, `@Column`, `@OneToMany`, и т.д.) и бизнес-логика, связанная с данными.

•   `repository`:  Пакет с JPA репозиториями, предоставляющими абстракцию для доступа к базе данных.  Это `UserRepository`, `DishRepository`, `MealRepository`.  Репозитории обеспечивают взаимодействие между сервисным слоем и базой данных.

•   `service`:  Пакет с сервисным слоем, содержащим бизнес-логику приложения.  Сервисный слой отделяет бизнес-логику от контроллеров и репозиториев, обеспечивая лучшую модульность и тестируемость.  Примеры: `UserService`, `DishService`, `MealService`, `ReportService` (для генерации отчетов).


## Postman коллекция:

[]
